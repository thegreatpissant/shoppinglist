<!doctype html>
<html lang="en-US">
<head>
    <meta charset="utf-8"/>
    <title>Title</title>
</head>
<script src="./static/jsoneditor.js"></script>
<body>
    <script>
        window.api.receive("fromMain", (data) => {
            console.log(`Received ${data} from main process`);
        });
        window.api.send("toMain", "some data");
    </script>
    <div id="editor_holder"></div>
    <button id="submit">Submit (console.log)</button>
    <script>
        // Initialize the editor with a JSON schema
        var editor = new JSONEditor(document.getElementById('editor_holder'),{
            schema: {
                type: "object",
                title: "Car",
                properties: {
                    make: {
                        type: "string",
                        enum: [
                            "Toyota",
                            "BMW",
                            "Honda",
                            "Ford",
                            "Chevy",
                            "VW"
                        ]
                    },
                    model: {
                        type: "string"
                    },
                    year: {
                        type: "integer",
                        enum: [
                            1995,1996,1997,1998,1999,
                            2000,2001,2002,2003,2004,
                            2005,2006,2007,2008,2009,
                            2010,2011,2012,2013,2014
                        ],
                        default: 2008
                    },
                    safety: {
                        type: "integer",
                        format: "rating",
                        maximum: "5",
                        exclusiveMaximum: false,
                        readonly: false
                    }
                }
            }
        });

        // Hook up the submit button to log to the console
        document.getElementById('submit').addEventListener('click',function() {
            // Get the value from the editor
            console.log(editor.getValue());
        });
    </script>
    <div id="holder">
        Drag your file here
    </div>

    <script>
        document.addEventListener('drop', (e) => {
            e.preventDefault();
            e.stopPropagation();

            for (const f of e.dataTransfer.files) {
                console.log('File(s) you dragged here: ', f.path);
                console.log(f);
            }
        });
        document.addEventListener('dragover', (e) => {
            e.preventDefault();
            e.stopPropagation();
        });
    </script>
</body>
</html>

